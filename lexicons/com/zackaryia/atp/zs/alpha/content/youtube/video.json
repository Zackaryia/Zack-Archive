{
    "lexicon": 1,
    "id": "com.zackaryia.atp.zs.alpha.content.youtube.video",
    "defs": {
        "main": {
            "type": "array",
            "items": {
                "description": "The list of data that represents a youtube video.",
                "type": "union",
                "refs": [
                    "#contentFormat",
                    "#thumbnail",
                    "#subtitles",
                    "#infoJson"
                ]        
            }
        },

        "contentFormat": {
            "type": "object",
            "description": "An archived peice of content (usually a unmuxed video / audio stream of the YT Video).",
            "required": ["content", "jsonOptions", "formatJson"],

            "properties": {
                "content": { "type": "ref", "ref": "com.zackaryia.atp.zs.alpha.content.defs#file" },
                "jsonOptions": { "type": "ref", "ref": "#jsonOptions" },
                "formatJson": {
                    "type": "string",
                    "description": "The format information of the file at hand, directly from YT-DLP with the only difference being that the URL fields are replaced with \"[REDACTED]\""
                }
            }
        },

        "formatJson": {
            "type": "object",
            "description": "Information on how the formatJson field was generated.",
            "properties": {
                "programUsed": { "type": "ref", "ref": "com.zackaryia.atp.zs.alpha.content.defs#programUsed" },
                "redactedUrls": { "type": "boolean", "description": "if the URL fields are repalced with \"[REDACTED]\"." },
                "cliArgs": { "type": "string", "description": "any and all CLI arguments used" }
            }
        },

        "thumbnail": { 
            "type": "object", 
            "properties": {
                "file": {"type": "ref", "ref": "com.zackaryia.atp.zs.alpha.content.defs#file" }
            }
        },

        "subtitles": { 
            "type": "object",
            "required": ["file", "subtitleType", "langShort"],

            "properties": {
                "file": {"type": "ref", "ref": "com.zackaryia.atp.zs.alpha.content.defs#file" },
                "subtitleType": { "type": "string", "knownValues": ["automatic_captions", "subtitles"] },
                "langShort": { "type": "string", "format": "language" },
                "name": { "type": "string" }
            }
        },

        "infoJson": { 
            "type": "object",
            "description": "The Info Json of a YouTube Video",
            "required": ["jsonOptions", "json"],
            "properties": {
                "jsonOptions": { "type": "ref", "ref": "#jsonOptions" },
                "json": {"type": "ref", "ref": "com.zackaryia.atp.zs.alpha.content.defs#file" }
            }
        }

    }

}